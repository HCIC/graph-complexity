<script src="https://d3js.org/d3.v4.js"></script>
<svg id="graphsvg">
<g id="edgelines"></g>
<g id="vertexcircles"></g>
</svg>
<script>

var width = 600;
var height = 600;

var vertexRadius = 10;
var vertexColor = "black";
var edgeColor = "black";
//TODO: browser
//TODO: screen resolution
//TODO: vertex color
//TODO: edge color
//TODO: loading screen?

var vertices = [
  {"id": "Alice"},
  {"id": "Bob"},
  {"id": "Carol"}
];

var edges = [
  {"source": "Alice", "target": "Bob"},
  {"source": "Bob", "target": "Carol"}
];

d3.select("#graphsvg")
    .attr("width", width)
    .attr("height", height)
    .attr("border", "1px solid black")

var simulation = d3.forceSimulation()
    .force("link", d3.forceLink().id(function(d) { return d.id; }))
    .force("charge", d3.forceManyBody())
    .force("center", d3.forceCenter(width/2, height/2));

simulation.nodes(vertices);
simulation.force("link").links(edges);

simulation.on("end", function() {
    d3.select("#vertexcircles").selectAll("circle").data(vertices).enter()
    .append("circle")
    .attr("r", vertexRadius)
    .attr("cx", function(d){return d.x;})
    .attr("cy", function(d){return d.y;})
    .attr("fill", vertexColor)

    d3.select("#edgelines").selectAll("line").data(edges).enter()
    .append("line")
    .attr("x1", function(d){return d.source.x;})
    .attr("y1", function(d){return d.source.y;})
    .attr("x2", function(d){return d.target.x;})
    .attr("y2", function(d){return d.target.y;})
    .attr("stroke", edgeColor)
});

</script>
